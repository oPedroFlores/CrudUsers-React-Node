{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Pedro/Desktop/node+react/user/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Pedro/Desktop/node+react/user/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _taggedTemplateLiteral from\"C:/Users/Pedro/Desktop/node+react/user/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import React,{useRef,useEffect}from'react';import styled from'styled-components';import axios from'axios';import{toast}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormContainer=styled.form(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: flex-end;\\n  gap: 10px;\\n  flex-wrap: wrap;\\n  background-color: #fff;\\n  padding: 20px;\\n  box-shadow: 0 0 5px #ccc;\\n  border-radius: 5px;\\n\"])));var InputArea=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));var Label=styled.label(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\"])));var Input=styled.input(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 120px;\\n  padding: 0 10px;\\n  border: 1px solid #bbb;\\n  border-radius: 5px;\\n  height: 40px;\\n\"])));var Button=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  cursor: pointer;\\n  border-radius: 5px;\\n  border: none;\\n  background-color: #2c73d2;\\n  color: white;\\n  height: 42px;\\n\"])));var Form=function Form(_ref){var onEdit=_ref.onEdit,setOnEdit=_ref.setOnEdit,getUsers=_ref.getUsers;var ref=useRef();useEffect(function(){if(onEdit){var user=ref.current;user.nome.value=onEdit.nome;user.email.value=onEdit.email;user.user.value=onEdit.user;user.data_nascimento.value=onEdit.data_nascimento;}},[onEdit]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();user=ref.current;if(!(!user.nome.value||!user.email.value||!user.user.value||!user.data_nascimento.value)){_context.next=4;break;}return _context.abrupt(\"return\",toast.warn('Preencha todos os campos!'));case 4:if(!onEdit){_context.next=9;break;}_context.next=7;return axios.put('http://localhost:8800/'+onEdit.id,{nome:user.nome.value,email:user.email.value,user:user.user.value,data_nascimento:user.data_nascimento.value}).then(function(_ref3){var data=_ref3.data;return toast.success(data);}).catch(function(_ref4){var data=_ref4.data;return toast.error(data);});case 7:_context.next=11;break;case 9:_context.next=11;return axios.post('http://localhost:8800',{nome:user.nome.value,email:user.email.value,user:user.user.value,data_nascimento:user.data_nascimento.value}).then(function(_ref5){var data=_ref5.data;return toast.success(data);}).catch(function(_ref6){var data=_ref6.data;return toast.error(data);});case 11:user.nome.value='';user.email.value='';user.user.value='';user.data_nascimento.value='';setOnEdit(null);getUsers();case 17:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(FormContainer,{ref:ref,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Nome\"}),/*#__PURE__*/_jsx(Input,{name:\"nome\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Input,{name:\"email\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"User\"}),/*#__PURE__*/_jsx(Input,{name:\"user\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Data de Nascimento\"}),/*#__PURE__*/_jsx(Input,{name:\"data_nascimento\",type:\"date\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Salvar\"})]});};export default Form;","map":{"version":3,"names":["React","useRef","useEffect","styled","axios","toast","jsx","_jsx","jsxs","_jsxs","FormContainer","form","_templateObject","_taggedTemplateLiteral","InputArea","div","_templateObject2","Label","label","_templateObject3","Input","input","_templateObject4","Button","button","_templateObject5","Form","_ref","onEdit","setOnEdit","getUsers","ref","user","current","nome","value","email","data_nascimento","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","abrupt","warn","put","id","then","_ref3","data","success","catch","_ref4","error","post","_ref5","_ref6","stop","_x","apply","arguments","onSubmit","children","name","type"],"sources":["C:/Users/Pedro/Desktop/node+react/user/src/components/Form.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\n\r\nconst FormContainer = styled.form`\r\n  display: flex;\r\n  align-items: flex-end;\r\n  gap: 10px;\r\n  flex-wrap: wrap;\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  box-shadow: 0 0 5px #ccc;\r\n  border-radius: 5px;\r\n`;\r\n\r\nconst InputArea = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst Label = styled.label``;\r\n\r\nconst Input = styled.input`\r\n  width: 120px;\r\n  padding: 0 10px;\r\n  border: 1px solid #bbb;\r\n  border-radius: 5px;\r\n  height: 40px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  border-radius: 5px;\r\n  border: none;\r\n  background-color: #2c73d2;\r\n  color: white;\r\n  height: 42px;\r\n`;\r\n\r\nconst Form = ({ onEdit, setOnEdit, getUsers }) => {\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (onEdit) {\r\n      const user = ref.current;\r\n\r\n      user.nome.value = onEdit.nome;\r\n      user.email.value = onEdit.email;\r\n      user.user.value = onEdit.user;\r\n      user.data_nascimento.value = onEdit.data_nascimento;\r\n    }\r\n  }, [onEdit]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const user = ref.current;\r\n\r\n    if (\r\n      !user.nome.value ||\r\n      !user.email.value ||\r\n      !user.user.value ||\r\n      !user.data_nascimento.value\r\n    ) {\r\n      return toast.warn('Preencha todos os campos!');\r\n    }\r\n\r\n    if (onEdit) {\r\n      await axios\r\n        .put('http://localhost:8800/' + onEdit.id, {\r\n          nome: user.nome.value,\r\n          email: user.email.value,\r\n          user: user.user.value,\r\n          data_nascimento: user.data_nascimento.value,\r\n        })\r\n        .then(({ data }) => toast.success(data))\r\n        .catch(({ data }) => toast.error(data));\r\n    } else {\r\n      await axios\r\n        .post('http://localhost:8800', {\r\n          nome: user.nome.value,\r\n          email: user.email.value,\r\n          user: user.user.value,\r\n          data_nascimento: user.data_nascimento.value,\r\n        })\r\n        .then(({ data }) => toast.success(data))\r\n        .catch(({ data }) => toast.error(data));\r\n    }\r\n\r\n    user.nome.value = '';\r\n    user.email.value = '';\r\n    user.user.value = '';\r\n    user.data_nascimento.value = '';\r\n\r\n    setOnEdit(null);\r\n    getUsers();\r\n  };\r\n\r\n  return (\r\n    <FormContainer ref={ref} onSubmit={handleSubmit}>\r\n      <InputArea>\r\n        <Label>Nome</Label>\r\n        <Input name=\"nome\" />\r\n      </InputArea>\r\n      <InputArea>\r\n        <Label>Email</Label>\r\n        <Input name=\"email\" />\r\n      </InputArea>\r\n      <InputArea>\r\n        <Label>User</Label>\r\n        <Input name=\"user\" />\r\n      </InputArea>\r\n      <InputArea>\r\n        <Label>Data de Nascimento</Label>\r\n        <Input name=\"data_nascimento\" type=\"date\" />\r\n      </InputArea>\r\n      <Button type=\"submit\">Salvar</Button>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}